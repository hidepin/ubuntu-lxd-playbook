ubuntu-lxd-playbook
============================================================

各種コマンド
------------------------------------------------------------

### ダウンロード済みのイメージのリストを表示

    ````````````````````````````````````````````````````````````
    $ lxc image list
    ````````````````````````````````````````````````````````````

### イメージのダウンロード

- ubuntu 14.04

    ````````````````````````````````````````````````````````````
    $ lxd-images import lxc ubuntu trusty amd64 --alias ubuntu-trusty
    ````````````````````````````````````````````````````````````

- ubuntu 15.04

    ````````````````````````````````````````````````````````````
    $ lxd-images import lxc ubuntu vivid amd64 --alias ubuntu-vivid
    ````````````````````````````````````````````````````````````

- Fedora20

    ````````````````````````````````````````````````````````````
    $ wget https://images.linuxcontainers.org/images/fedora/20/amd64/default/20150619_01:27/lxd.tar.xz
    $ lxc image import lxd.tar.xz --alias fedora20
    ````````````````````````````````````````````````````````````


- CentOS6

    ````````````````````````````````````````````````````````````
    $ lxd-images import lxc centos 6 amd64 --alias centos6
    ````````````````````````````````````````````````````````````

- CentOS7

    ````````````````````````````````````````````````````````````
    $ wget https://images.linuxcontainers.org/images/centos/7/amd64/default/20150619_02:16/lxd.tar.xz
    $ lxc image import lxd.tar.xz --alias centos7
    ````````````````````````````````````````````````````````````

### コンテナの作成と起動

    ````````````````````````````````````````````````````````````
    $ lxc launch (イメージ名) (コンテナ名)
    
    (centos6の場合)
    $ lxc launch centos6 centos6
    ````````````````````````````````````````````````````````````

### コンテナの作成

    ````````````````````````````````````````````````````````````
    $ lxc init (イメージ名) (コンテナ名)
    ````````````````````````````````````````````````````````````
#### コンテナの停止

    ````````````````````````````````````````````````````````````
    $ lxc stop (コンテナ名)
    ````````````````````````````````````````````````````````````

### 作成済みコンテナの起動

    ````````````````````````````````````````````````````````````
    $ lxc start (コンテナ名)
    ````````````````````````````````````````````````````````````

### コンテナのリスタート

    ````````````````````````````````````````````````````````````
    $ lxc restart (コンテナ名)
    ````````````````````````````````````````````````````````````

### スナップショットの作成

    ````````````````````````````````````````````````````````````
    $ lxc snapshot (コンテナ名) (スナップショット名)
    ````````````````````````````````````````````````````````````

### スナップショットからの戻し

    ````````````````````````````````````````````````````````````
    $ lxc restore (コンテナ名) (スナップショット名)
    ````````````````````````````````````````````````````````````

### コンテナの削除

    ````````````````````````````````````````````````````````````
    $ lxc delete (コンテナ名)
    ````````````````````````````````````````````````````````````

### コンテナのリストを表示

    ````````````````````````````````````````````````````````````
    $ lxc list
    ````````````````````````````````````````````````````````````

### コンテナの状態を確認

    ````````````````````````````````````````````````````````````
    $ lxc info (コンテナ名)
    ````````````````````````````````````````````````````````````

### コンテナへの接続

    ````````````````````````````````````````````````````````````
    $ lxc exec (コンテナ名) (コマンド)
    
    (bashを起動する場合)
    $ lxc exec centos6 /bin/bash

    (他のコマンドを実行する場合。コンテナ名の後ろに--をつけること)
    $ lxc exec centos7 -- yum install -y openssh-server
    ````````````````````````````````````````````````````````````

### コンテナとのファイルの送受信

- コンテナにファイルを送り込む

    ````````````````````````````````````````````````````````````
    $ lxc file push (ローカルパス) (コンテナ名)/(コンテナパス)
    ````````````````````````````````````````````````````````````
- コンテナからファイルを取り出す

    ````````````````````````````````````````````````````````````
    $ lxc file pull (コンテナ名)/(コンテナパス) (ローカルパス)
    ````````````````````````````````````````````````````````````
